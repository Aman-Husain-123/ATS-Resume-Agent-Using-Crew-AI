<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS Resume Agent | Enterprise Resume Optimization</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <!-- Sticky Header -->
    <header class="header">
        <div class="header-container">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <span>ATS Resume Agent</span>
                </div>
                <div class="subtitle">ATS-Compatible Resume Optimization</div>
            </div>
            <div class="header-right">
                <a href="#" class="header-link">Help</a>
                <a href="#" class="header-link">Docs</a>
                <a href="https://github.com/Aman-Husain-123/ATS-Resume-Agent-Using-Crew-AI" target="_blank" class="header-link">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Toast Notification -->
        <div id="toast" class="toast"></div>

        <!-- Step 1: Upload Resume -->
        <section class="card upload-section">
            <div class="card-header">
                <div class="step-indicator">
                    <span class="step-number">1</span>
                    <span class="step-title">Upload Resume</span>
                </div>
            </div>
            <div class="card-body">
                <form id="resumeForm" enctype="multipart/form-data">
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="resume" name="resume" accept=".pdf,.docx,.txt" hidden>
                        <div class="upload-content">
                            <i class="fas fa-cloud-upload-alt upload-icon"></i>
                            <p class="upload-text">Drag and drop your resume here</p>
                            <p class="upload-subtext">or click to browse</p>
                            <p class="upload-formats">Supported: PDF, DOCX, TXT (Max 5MB)</p>
                        </div>
                    </div>
                    <div class="file-info" id="fileInfo" style="display: none;">
                        <div class="file-details">
                            <i class="fas fa-file-alt file-icon"></i>
                            <div class="file-meta">
                                <div class="file-name" id="fileName"></div>
                                <div class="file-size" id="fileSize"></div>
                            </div>
                        </div>
                        <div class="file-status">
                            <i class="fas fa-check-circle status-icon"></i>
                            <span>Ready</span>
                        </div>
                    </div>
                </form>
            </div>
        </section>

        <!-- Step 2: Job Details -->
        <section class="card job-details-section">
            <div class="card-header">
                <div class="step-indicator">
                    <span class="step-number">2</span>
                    <span class="step-title">Job Details</span>
                </div>
            </div>
            <div class="card-body">
                <div class="job-details-grid">
                    <div class="form-group">
                        <label for="job_title">Target Job Title</label>
                        <input type="text" id="job_title" name="job_title" 
                               placeholder="e.g., Senior Software Engineer" 
                               class="form-input">
                    </div>
                    <div class="form-group">
                        <label for="experience_level">Experience Level</label>
                        <select id="experience_level" class="form-select">
                            <option value="">Select level</option>
                            <option value="intern">Intern</option>
                            <option value="junior">Junior (0-2 years)</option>
                            <option value="mid">Mid-Level (3-5 years)</option>
                            <option value="senior">Senior (5+ years)</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="job_description">
                        Job Description
                        <span class="word-count" id="wordCount">0 words</span>
                    </label>
                    <textarea id="job_description" name="job_description" 
                              class="form-textarea"
                              placeholder="Paste the complete job description here...

Example:
We are seeking a Senior Software Engineer to join our team...

Requirements:
• 5+ years of experience in software development
• Proficiency in Python, JavaScript, and cloud technologies
• Strong problem-solving and communication skills"></textarea>
                </div>
            </div>
        </section>

        <!-- Step 3: Analyze -->
        <section class="action-section">
            <button type="button" id="analyzeBtn" class="btn-primary" disabled>
                <span class="btn-text">Analyze Resume</span>
                <i class="fas fa-arrow-right btn-icon"></i>
            </button>
            <div class="loading-state" id="loadingState" style="display: none;">
                <div class="spinner"></div>
                <span>Analyzing ATS compatibility...</span>
            </div>
        </section>

        <!-- Step 4: Results -->
        <section class="results-section" id="resultsSection" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <div class="step-indicator">
                        <span class="step-number">4</span>
                        <span class="step-title">Analysis Results</span>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Tabs -->
                    <div class="tabs">
                        <button class="tab active" data-tab="cleaned">
                            <i class="fas fa-broom"></i>
                            Cleaned Resume
                        </button>
                        <button class="tab" data-tab="optimized">
                            <i class="fas fa-magic"></i>
                            Optimized Resume
                        </button>
                        <button class="tab" data-tab="final">
                            <i class="fas fa-star"></i>
                            Final ATS Resume
                        </button>
                        <button class="tab" data-tab="score">
                            <i class="fas fa-chart-bar"></i>
                            ATS Score
                        </button>
                    </div>

                    <!-- Tab Content: Cleaned -->
                    <div class="tab-content active" id="cleaned">
                        <div class="resume-viewer">
                            <div class="viewer-header">
                                <h3>Cleaned & Structured Resume</h3>
                                <div class="viewer-actions">
                                    <button class="btn-secondary" onclick="copyText('cleanedText')">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                    <button class="btn-secondary" onclick="downloadResume('cleaned', 'txt')">
                                        <i class="fas fa-download"></i> Download TXT
                                    </button>
                                </div>
                            </div>
                            <div class="viewer-content">
                                <pre id="cleanedText"></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Optimized -->
                    <div class="tab-content" id="optimized">
                        <div class="resume-viewer">
                            <div class="viewer-header">
                                <h3>ATS-Optimized Resume</h3>
                                <div class="viewer-actions">
                                    <button class="btn-secondary" onclick="copyText('optimizedText')">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                    <button class="btn-secondary" onclick="downloadResume('optimized', 'txt')">
                                        <i class="fas fa-download"></i> Download TXT
                                    </button>
                                </div>
                            </div>
                            <div class="viewer-content">
                                <pre id="optimizedText"></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Final -->
                    <div class="tab-content" id="final">
                        <div class="resume-viewer">
                            <div class="viewer-header">
                                <h3>Final ATS-Ready Resume</h3>
                                <div class="viewer-actions">
                                    <button class="btn-secondary" onclick="copyText('finalText')">
                                        <i class="fas fa-copy"></i> Copy
                                    </button>
                                    <button class="btn-primary-small" onclick="downloadResume('final', 'pdf')">
                                        <i class="fas fa-file-pdf"></i> Download PDF
                                    </button>
                                    <button class="btn-secondary" onclick="downloadResume('final', 'docx')">
                                        <i class="fas fa-file-word"></i> Download DOCX
                                    </button>
                                    <button class="btn-secondary" onclick="downloadResume('final', 'txt')">
                                        <i class="fas fa-file-alt"></i> Download TXT
                                    </button>
                                </div>
                            </div>
                            <div class="viewer-content">
                                <pre id="finalText"></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Score -->
                    <div class="tab-content" id="score">
                        <div class="score-container">
                            <div class="score-main">
                                <div class="score-circle-wrapper">
                                    <svg class="score-circle" viewBox="0 0 200 200">
                                        <circle class="score-circle-bg" cx="100" cy="100" r="90"></circle>
                                        <circle class="score-circle-progress" cx="100" cy="100" r="90" id="scoreProgress"></circle>
                                    </svg>
                                    <div class="score-value" id="scoreValue">--</div>
                                </div>
                                <div class="score-label">ATS Compatibility Score</div>
                                <div class="score-status" id="scoreStatus"></div>
                            </div>

                            <div class="score-breakdown">
                                <h4>Detailed Breakdown</h4>
                                <div class="breakdown-item">
                                    <div class="breakdown-label">
                                        <span>Keywords Match</span>
                                        <span class="breakdown-value" id="keywordsValue">-/5</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="keywordsProgress"></div>
                                    </div>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-label">
                                        <span>Skills Coverage</span>
                                        <span class="breakdown-value" id="skillsValue">-/5</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="skillsProgress"></div>
                                    </div>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-label">
                                        <span>Experience Relevance</span>
                                        <span class="breakdown-value" id="experienceValue">-/5</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="experienceProgress"></div>
                                    </div>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-label">
                                        <span>Action Verbs</span>
                                        <span class="breakdown-value" id="verbsValue">-/5</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="verbsProgress"></div>
                                    </div>
                                </div>
                                <div class="breakdown-item">
                                    <div class="breakdown-label">
                                        <span>Resume Format</span>
                                        <span class="breakdown-value" id="formatValue">-/5</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="formatProgress"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="recommendations" id="recommendations"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
